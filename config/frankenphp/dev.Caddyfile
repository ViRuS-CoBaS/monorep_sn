{
    metrics
    admin off
    auto_https disable_redirects

    # глобальная конфигурация FrankenPHP
    frankenphp {
        worker {
            file /app/public/index.php
            watch /app
        }
    }
}


# сайтовый блок – слушаем только 80-й внутри контейнера
:80 {
    root * /app/public
    encode gzip
    metrics /metrics


    # статика (опционально)
    file_server
    # PHP-роутинг: fallback на /index.php для динамики
    php_server {
        try_files {path} /index.php
    }
    log {
        output stderr
        level DEBUG
    }
}